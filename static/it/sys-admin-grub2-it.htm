<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Manuale siductions - Grub2</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body class="body-main">
	<p><img class="header-img" alt="header logo siduction" src="../lib/logos/siduction-logo-web.png" /></p>
<div id="bg">
<!-- Last translation revision by giocitta on 24/04/2012 16.06 UTC -->
<div id="menu"> <!-- menu starts here it lang maintained by giocitta -->
<!--siduction Operating System Manual menu-version-02.13.2011.09.09 -->
<!-- menu last updated by bluewater 2011.09.09 0935 hrs UTC -->
	<div id="menu-header">
	      <a href="http://siduction.org/"><img src="../lib/logos/manual-siduction-logo.png" title="Jump to siduction.org (Forum and Wiki)" alt="siduction.org logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-it.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Ricerca nel manuale" alt="Ricerca" />Ricerca Online Offline</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/siduction-lang-100x64.png" title="Scegliere un'altra lingua" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-it.htm">Manuale del s.o. siduction</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-it.htm#welcome-gen">Manuale del s.o. siduction &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-it.htm#cred-team">Crediti</a></li>
					</ul>
					</li>
		<li><a href="welcome-it.htm#how-to">Come usare questo manuale &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-it.htm#how-to">Come usare questo manuale</a></li>
					  <li><a href="welcome-it.htm#table-contents">Indice dei contenuti</a></li>
					</ul>
					</li>
		<li><a href="help-it.htm#help-gen">Ottenere aiuto &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-it.htm#help-gen">Dove e come ottenere aiuto</a></li>
					  <li><a href="help-it.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-it.htm#welcome-quick">siduction - Guida d'avvio rapida</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-it.htm">Contenuto della ISO, Rilasci, Mirror per i Download e Masterizzazione</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-it.htm#cd-content">Contenuto della ISO e requisiti di sistema &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-it.htm#rolling">Note di rilascio dinamiche</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-it.htm#download-siduction">Mirror siduction, download e masterizzazione &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-it.htm#md5">Somma md5</a></li>
					  <li><a href="cd-dl-burning-it.htm#burn-nero">Masterizzare in Windows</a></li>
					  <li><a href="cd-dl-burning-it.htm#burn-linux">Masterizzare in Linux</a></li>
					  <li><a href="cd-no-gui-burn-it.htm#burning-no-gui">Script burniso</a></li>
					  <li><a href="cd-no-gui-burn-it.htm#burn-no-gui-gen">Masterizzare senza interfaccia grafica</a></li>
					  <li><a href="cd-dl-burning-it.htm#download-siduction">Mirror per il download di siduction</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-it.htm">Modalità Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-it.htm#rootpw">Password di root della Live ISO</a></li>
				<li><a href="live-mode-it.htm#live-cd-installsoft">Installare software in modalità Live ISO</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-it.htm">Terminale / Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole &#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole</a></li>
					  <li><a href="term-konsole-it.htm#colours">Prompt di terminale colorati</a></li>
					  <li><a href="term-konsole-it.htm#cli-help">Aiuto nella linea di comando</a></li>
					  <li><a href="help-it.htm#init3-tools">Strumenti in modalità testo da conoscere (tty) e init 3</a></li>
					  <li><a href="term-konsole-it.htm#term-cmds">Lista dei comandi da terminale</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-it.htm#sux">sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-it.htm">Opzioni di avvio</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-it.htm#cheatcodes">Opzioni di avvio specifiche del live ISO siduction</a></li>
				<li><a href="cheatcodes-it.htm#cheatcodes-linux">Opzioni di avvio generici di Linux</a></li>
				<li><a href="cheatcodes-vga-it.htm#vga">Codici VGA</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-it.htm">Partitioning the Hard Drive - Traditional, GPT and LVM</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-it.htm#hd-ntfs3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
			<li><a href="part-lvm-it.htm#part-lvm">Partizionare per utilizzare LVM - Logical Volume Manager</a></li>
			<li><a href="part-gparted-it.htm#partition">Partizionare con una GUI &#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-it.htm#partition">Partizionare il disco fisso con  GParted/KDE Partition Manager</a></li>
					  <li><a href="part-gparted-it.htm#ntfs">Ridimensionare una partizione NTFS GParted/KDE Partition Manager</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-it.htm#partition">Partizionare con una CLI &#8658;</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-it.htm#partition">Partizionare il disco fisso con cfdisk</a></li>
					    <li><a href="part-cfdisk-it.htm#formating">Formattare dopo aver partizionato con cfdisk</a></li>
					    <li><a href="part-gdisk-it.htm#gdisk-6">Formatting after partitioning with gdisk</a></li>
					    <li><a href="part-gdisk-it.htm#gdisk-1">GPT Partitioning with gdisk</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-it.htm#part-example">Basi del partizionamento &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-it.htm#part-example">Esempi di dimensione partizioni</a></li>
					  <li><a href="part-uuid-it.htm#uuid">UUID, Ricostruire fstab e creare nuovi punti di mount</a></li>
					  <li><a href="part-cfdisk-it.htm#disknames">Assegnare nomi ai dischi</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-it.htm">Opzioni d'installazione - HD, USB, VM e Cryptroot</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione</a></li>
					  <li><a href="hd-install-it.htm#Installation">Installare sul disco fisso</a></li>
					  <li><a href="hd-install-it.htm#first-hd-boot">Primo avvio</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-it.htm#fromiso">Avviare "fromiso" &#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-it.htm#fromiso">Avviare "fromiso" - panoramica</a></li>
					  <li><a href="hd-install-opts-it.htm#grub2-fromiso">Avviare "fromiso" con Grub 2</a></li>
					  <li><a href="hd-install-opts-it.htm#fromiso-persist">"fromiso" e "persistente"</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-it.htm#usb-hd">Installare su periferiche USB &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-it.htm#usb-hd">Installare siduction su di un dispositivo USB - specifico di siduction - siduction-on-stick</a></li>
					  <li><a href="hd-ins-opts-oos-it.htm#raw-usb">Installare siduction su di un dispositivo USB/SSD con qualsiasi s.o. : Linux, MS Windows, Mac OS X</a></li>
					</ul>
					</li>
		  <li><a href="hd-install-crypt-it.htm#install-crypt">Installare su partizioni criptate - cryptroot</a></li>
		  <li><a href="nbdboot-it.htm#nbd1">Avviare siduction attraverso una rete</a></li>
		  <li><a href="hd-install-vmopts-it.htm#vmopts">Opzioni di installazione della Macchina Virtuale</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="gpu-it.htm">Schede grafiche, Monitor, Xorg &amp; drivers</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi</a></li>
					  <li><a href="hw-dev-mon-it.htm#xrandr">Doppio schermo e xrandr</a></li>
					  <li><a href="hw-dev-mon-it.htm#mon-binary">Doppio schermo (usando i driver binari)</a></li>
					</ul>
					</li>
		<li><a href="gpu-it.htm#foss-xorg">GPU drivers &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="gpu-it.htm#ati-3d">Driver 3D per AMD/ATI</a></li>
					  <li><a href="gpu-it.htm#intel">Driver 2D e 3D per Intel</a></li>
					  <li><a href="gpu-it.htm#nvidia">Driver 3D per Nvidia</a></li>
					  <li><a href="gpu-it.htm#foss-xorg">Driver Open Source Xorg</a></li>
					</ul>
					</li>
			  <li><a href="nf-firm-it.htm#fw-detect">Rilevamento del firmware non-free</a></li>
			  <li><a href="nf-firm-it.htm#non-free-firmware">Aggiungere non-free al Sources List</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-dm-it.htm">Gestori di finestre</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-dm-it.htm">KDE and XFCE Gestori di finestre &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-dm-it.htm#xfce-notes">Aggiunte utili per Xfce</a></li>
					    <li><a href="wm-dm-it.htm#install-add">Aggiunte utili per KDE</a></li>
					    <li><a href="wm-dm-it.htm#desk-freeze">Blocchi del desktop</a></li>
					    <li><a href="wm-dm-it.htm#kde-login">Impossibile entrare in KDE</a></li>
					    <li><a href="wwm-dm-it.htm#ch-th">Cambiare i temi</a></li>
					</ul>
					</li>
		      <li><a href="wm-dm-it.htm#dm">Installing additional Display Managers</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="inet-ceni-it.htm">Connessione ad internet, WiFi, LAN e reti</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-it.htm">siduction LAMP Stack &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-it.htm#serv-apache">siduction e LAMP</a></li>
					    <li><a href="lamp-apache-it.htm#serv-ftp">Client FTP</a></li>
					    <li><a href="lamp-apache-it.htm#serv-sec">Protocolli di sicurezza</a></li>
					    <li><a href="lamp-apache-it.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-it.htm#serv-mysql">Configurazione MySQL</a></li>
					    <li><a href="lamp-php-it.htm#serv-php">PHP in Apache</a></li>
					    <li><a href="ntp-server-it.htm#ntp-server">Configurazione Timeserver</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-it.htm#tor">Firewall e Privacy &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-it.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-it.htm#privoxy">Privoxy</a></li>
					    <li><a href="inet-ceni-it.htm#firewalls">Firewall</a></li>
					</ul>
					</li>
		<li><a href="ssh-it.htm#ssh-x">SSH e Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-it.htm#setup">Setup Samba-Server</a></li>
						  <li><a href="samba-it.htm#configure">Configurare SAMBA (Windows)</a></li>
						  <li><a href="ssh-it.htm#ssh-fs">Mount da remoto con SSH</a></li>
						  <li><a href="ssh-it.htm#ssh-x">Applicazioni in X Window attraverso SSH</a></li>
						  <li><a href="ssh-it.htm#ssh-f">Interfaccia grafica per SSH con Konqueror</a></li>
						  <li><a href="ssh-it.htm#ssh-w">SSH X-Forwarding da un PC con Windows</a></li>
						  <li><a href="ssh-it.htm#ssh">SSH e Sicurezza</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-it.htm#netcardconfig">Connessioni WiFi &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="inet-ceni-it.htm#netcardconfig">Attivare una connessione di rete con "ceni"</a></li>
						    <li><a href="inet-wpagui-it.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
						    <li><a href="inet-setup-it.htm#net-set1">WiFi - Impostare il Roaming WiFi</a></li>
						    <li><a href="inet-wpa-it.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-it.htm#hotswitch">Scambiare la rete fra WiFi e Cavo</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-it.htm#netcardconfig">Connessioni via cavo &#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="inet-ceni-it.htm#dial-mod">Modem 56k</a></li>
						    <li><a href="inet-ceni-it.htm#netcardconfig">Attivare una connessione di rete con "ceni"</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-it.htm">Dist-upgrade e gestione dei pacchetti</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-install">Installare un nuovo pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-delete">Eliminare un pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-downgrade">Effettuare il downgrade o l'Hold di un pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-cache">Cercare un pacchetto con apt-cache</a></li>
					    <li><a href="sys-admin-apt-it.htm#gui-pacsea">Cercare un pacchetto tramite interfaccia grafica</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-it.htm#kern-remove">Eliminare i kernel</a></li>
					    <li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel</a></li>
					    <li><a href="sys-admin-kern-upg-it.htm#dmakms">Installare dinamicamente i moduli del kernel con dmakms</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade - Panoramica &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-it.htm#live-cd-upgrade">Aggiornare un sistema attraverso il DVD live ISO</a></li>
					    <li><a href="sys-admin-apt-locarmirr-it.htm#approx">Fare il dist-upgrade di più PC in rete</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade - Panoramica</a></li>
					    <li><a href="sys-admin-apt-it.htm#du-st">Aggiornare un sistema installato - dist-upgrade - Passi da fare</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-it.htm">Amministrazione di sistema</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-it.htm#bois-prep">Aggiornare il BIOS con FreeDOS</a></li>
		<li><a href="vir-rkits-it.htm#virus-rkits">Controllo virus e rootkit</a></li>
		<li><a href="hd-install-it.htm#adduser">Aggiungere Utenti e Password &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-it.htm#adduser">Aggiungere un nuovo utente</a></li>
					    <li><a href="sys-admin-gen-it.htm#pw-lost">Recupero della password di root</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-it.htm#start-services">Servizi e runlevel init &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-it.htm#start-services">Abilitare e disabilitare servizi</a></li>
					    <li><a href="sys-admin-gen-it.htm#pkill">Killing a service or process</a></li>
					    <li><a href="sys-admin-gen-it.htm#init">runlevel di siduction - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-it.htm#rsync">Backup del sistema &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-it.htm#rdiff">Backup con rdiff</a></li>
					    <li><a href="sys-admin-rsync-it.htm#rsync">Backup con rsync</a></li>
					    <li><a href="home-it.htm#home-bu">Spostare la directory "home"</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-it.htm#fonts">CUPS, Font e Suono &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-it.htm#fonts">Font</a></li>
					     <li><a href="sys-admin-gen-it.htm#cups">Sistema di stampa CUPS</a></li>
					     <li><a href="sys-admin-gen-it.htm#sound">Mixer del suono</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-it.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-it.htm#chroot">Grub2 - Ripristinare Grub tramite chroot</a></li>
					    <li><a href="sys-admin-grub2-it.htm#mbr-over-grub2">Grub2 - MBR: sovrascrittura del settore di boot</a></li>
					    <li><a href="sys-admin-grub2-it.htm#multi-os">Grub2 - Avvio doppio o multiplo</a></li>
					    <li><a href="sys-admin-grub2-it.htm#grub1-grub2">Grub2 - Aggiornare da Grub1</a></li>
					    <li><a href="sys-admin-grub2-it.htm#grub2">Grub2 - Panoramica</a></li>
					</ul>
				  </li>
			    </ul>
		</li>

</ul>



<div id="menu-header-5">
<a href="http://siduction.org/index.php?module=Content&amp;func=view&amp;pid=3"><img src="../lib/logos/siduction_donate_75.png" title="Donate" alt="Donate" /></a>
</div>





<!-- menu-en ends here --> </div>
<div id="main-page">
		<div class="divider" id="grub2">
			<h2 id="top-header">GRUB 2</h2>
				<h4>Differenze principali fra GRUB 1 (oggi detto "grub-legacy") e GRUB 2:</h4>

					<ul>
						  	<li><span class="highlight-3">Non esiste più il file menu.lst</span></li>

							<li>Al controllo della schermata di Grub è adesso preposto il file <span class="highlight-3">grub.cfg</span>.</li>

							<li>grub.cfg viene generato automaticamente dagli script presenti in <span class="highlight-3"> /etc/grub.d</span>.</li>

							<li>La numerazione delle partizioni è differente in quanto inizia da 1 invece che da 0 (i drive vengono ancora numerati a partire da 0):
<pre>
Linux      grub1     grub2
/dev/sda1  (hd0,0)   (hd0,1)
/dev/sda2  (hd0,1)   (hd0,2)
/dev/sda3  (hd0,2)   (hd0,3)

/dev/sdb1  (hd1,0)   (hd1,1)
/dev/sdb2  (hd1,1)   (hd1,2)
/dev/sdb3  (hd1,2)   (hd1,3)
</pre>
							</li>

							<li>Le sezioni in grub.cfg sono strutturate in modo leggermente differente rispetto a quanto avviene in menu.lst e non possono essere copiate direttamente dal file di Grub 1 menu.lst al file di Grub 2 grub.cfg in quanto quest'ultimo è un file "generato". <span class="highlight-2">Il file grub.cfg non dovrebbe essere mai modificato manualmente.</span></li>

					 </ul>
		</div>
		<div class="divider" id="grub2-files">
					  <h4>Il file di configurazione predefinito di Grub 2</h4>
							<p>Il file <span class="highlight-3">/etc/default/grub</span> contiene le impostazioni variabili di grub2. Per esempio, timeout del menu, voci predefinite del menu da attivare, parametri del kernel, grafica di grub e via dicendo.</p>

					 <h4>I file script di Grub 2</h4>
							<p>I file in <span class="highlight-3">/etc/grub.d</span> controllano il file "generato" <span class="highlight-3">grub.cfg</span>, che si trova in <span class="highlight-3">/boot/grub/</span>.</p>

							<p><span class="highlight-2">Il file grub.cfg, come sopra detto, non dovrebbe essere mai modificato manualmente.</span> Tutte le modifiche devono essere fatte con uno o tutti i seguenti script che si trovano in <span class="highlight-3">/etc/grub.d</span>. os-prober dovrebbe poter gestire il 90% dei casi:</p>
<pre>
00_header:
05_debian_theme: configura sfondo, colori del testo, temi
10_hurd: trova i kernel Hurd
10_linux: trova i kernel Linux basandosi sul risultato del comando lsb_release.
20_memtest86+: se esiste il file /boot/memtest86+.bin, viene incluso nel menu di avvio.
30_os-prober: cerca Linux e altri sistemi operativi nelle diverse partizioni e li include nel menu di avvio.
40_custom: uno schema-guida per aggiungere voci nel menu di avvio personalizzate per altri sistemi operativi.
60_fll-fromiso: uno schema-guida per aggiungere voci nel menu di avvio personalizzate per chiavette USB/schede SSD.
<span class="highlight-2">60_fll-fromiso non deve essere modificato: usate allo scopo /etc/default/grub2-fll-fromiso.
Leggere: <a href="hd-install-opts-it.htm#grub2-fromiso">Avviare "fromiso" con Grub 2</a>.</span>
</pre>
							<p>Ogni volta che è apportata una modifica, grub.cfg deve essere informato sui cambiamenti avvenuti. Nel caso di aggiornamenti del kernel di siduction il comando update viene avviato automaticamente. Nel caso che la modifica di uno qualunque dei file sopra indicati sia stata apportata manualmente da voi in qualità di amministratore del sistema, dovrete avviare:</p>

<pre>
update-grub
</pre>

							<p><span class="highlight-3">Il pacchetto Debian di Grub 2 è concepito in modo tale che una modifica da parte vostra si renderà necessaria solo raramente.</span></p>
		</div>
		<div class="divider" id="grub1-grub2">
				<h2>Aggiornare da Grub Legacy a Grub 2</h2>
							<p><span class="highlight-2">Raccomandiamo di aggiornare a Grub 2 in maniera pulita e di rimuovere completamente Grub 1</span>. Dovreste essere ben consci del fatto che potreste danneggiare ogni cosa: siate quindi molto attenti.</p>

						<h6>Passo 1: </h6>
							<p>Assicuratevi che il sistema sia pienamente aggiornato eseguendo <span class="highlight-3">dist-upgrade in init 3.</span></p>
<pre>
apt-get update
Ctrl+alt+F1
init 3
apt-get dist-upgrade
init 5 &amp;&amp; exit
</pre>
						<h6>Passo 2:</h6>
							<p>Rimuovete completamente Grub 1:</p>
<pre>
rm -rf /boot/grub
apt-get purge grub-gfxboot
</pre>
							<p>Il risultato sarà che <span class="highlight-3">fll-iso2usb* grub-gfxboot* install-usb-gui* </span> verranno rimossi. Premete <span class="highlight-3">Y</span> per confermare.</p>

						<h6>Passo 3:</h6>

<pre>
apt-get install grub2 os-prober
</pre>

<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-2.png" title="Grub2" alt="Grub2" /></div>
							<p>Utilizzate il tasto tab per selezionare OK</p>

<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-3.png" title="Grub2" alt="Grub2" /></div>
							<p>Utilizzate il tasto tab per selezionare OK</p>

<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-convert-1.png" title="Grub2-conversion 1" alt="Grub2-conversion 1" /></div>

							<p>Utilizzate le frecce e la barra spaziatrice della tastiera per mettere un <span class="highlight-3">* (asterisco) </span> per selezionare il disco fisso sul quale Grub2 dovrà scrivere l'MBR. <i>(Nell'esempio sopra riportato si installa su di un disco esterno USB)</i>.</p>

						<h6>Passo 4:</h6>
<pre>
update-grub
</pre>


						<h6>Passo 5:</h6>
<pre>
apt-get install install-usb-gui fll-iso2usb
</pre>

						<h6>Passo 6:</h6>
							<p>Riavviate il PC e menu.cfg vi mostrerà il kernel e la lista dei sistemi operativi:</p>
<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-os-list.jpg" title="Grub2-OS list" alt="Grub2-OS list" /></div>

							<p>Se dovesse esservi un errore o qualcosa andasse storto fate riferimento a <a href="sys-admin-grub2-it.htm#chroot">Grub2 sovrascritto o corrotto nell'MBR</a> </p>

				  <h3>Modificare le opzioni d'avvio di Grub2 mediante la schermata di modifica</h3>
<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-e-1.JPG" title="Grub2-Edit" alt="Grub2-Edit" /></div>
							<p>Se, per qualche ragione, doveste apportare una modifica temporanea alle opzioni d'avvio di un kernel evidenziato in Grub2, premete la lettera <span class="highlight-2">e</span> e con i tasti freccia portatevi sulla linea che volete modificare; quindi, sempre dalla schermata di modifica, usate <span class="highlight-3"> Ctrl+x </span> per riavviare il computer con le opzioni modificate.</p>

							<p>Per esempio, per avviare direttamente il sistema in level 3, aggiungete <span class="highlight-3">3</span> alla fine della linea <span class="highlight-3">linux /boot/vmlinuz</span>.</p>

							<p>Le modifiche apportate mediante la schermata di modifica non sono definitive. Per renderle permanenti dovrete modificare i file appropriati. Vedere in proposito <a href="sys-admin-grub2-it.htm#grub2-files">I file di Grub 2</a>.</p>

	      </div>
		<div class="divider" id="multi-os">
				<h2>Avvio doppio o multiplo con Grub 2</h2>

							<p>Poiché Grub2 ha una configurazione modulare, consente con un comando semplice di cercare nuovi sistemi operativi e se ne vengono trovati prova ad applicare il cambiamento necessario per aggiornare menu.cfg. Il comando semplice è:</p>
<pre>
update-grub
</pre>
							<p>Se doveste aver bisogno di aggiungere una voce di menu personalizzata in menu.cfg oppure se 30_os-prober non riesce a scrivere su grub.cfg con i menu chainloader, usate il vostro editor di testo preferito per apportare gli aggiustamenti a <span class="highlight-3">/etc/grub.d/40_custom</span>.</p>

							<p>Esempi di personalizzazione del file 40_custom:</p>
<pre>
menuentry "second mbr"{
set root=(hd1)
chainloader +1
}
</pre>

<pre>
menuentry "second partition"{
set root=(hd0,2)
chainloader +1
}
</pre>
							<p>Apportati gli aggiustamenti, lanciate:</p>
<pre>
update-grub
</pre>

							<p>Se si dovesse lamentare che non conosce la periferica grub di un disco, significa che si deve rigenerare devicemap.</p>

							<p><span class="highlight-3">Assicuratevi di scegliere la partizione e non l'MBR quando installate un altro sistema operativo:</span></p>

<pre>
grub-mkdevicemap --no-floppy
update-grub
</pre>
							<p>Gli avvertimenti possono essere semplicemente ignorati.</p>

							<p>Se doveste fare un errore, l'aggiornamento probabilmente sovrascriverà l'MBR e si dovrà correggerlo con <a href="sys-admin-grub2-it.htm#mbr-over-grub2">Grub2 - MBR sovrascritto</a>.</p>
</div>
	<div class="divider" id="mbr-over-grub2">

					<h2>Per riscrivere soltanto grub2 nell'MBR dal disco rigido:</h2>

<pre>
/usr/sbin/grub-install --recheck --no-floppy /dev/sda
</pre>
						<p>Potrebbe essere necessario lanciare più volte questa riga, finché si convince che volete davvero far quello.</p>

		<h2>Settore d'avvio MBR sovrascritto da Windows, Grub 2 corrotto o da ripristinare</h2>
							<p><span class="highlight-2">NOTA: per ripristinare il gestore d'avvio Grub 2 dovete avere a disposizione una iso siduction.iso.</span> <a href="sys-admin-grub2-it.htm#chroot">In alternativa potete utilizzare chroot con qualsiasi live.iso</a>.</p>

							<p>Per riscrivere Grub 2 nell'MBR e/o per ripristinare Grub 2 in generale, dovrete avviare <span class="highlight-3">siduction.iso</span>:</p>
						<ol>
							<li>Per identificare e confermare le partizioni (ad esempio, [h,s]d[a..]X) sono richiesti privilegi di amministratore, quindi diventate root (#):
<pre>
$ sux
</pre>
							</li>
							<li>Poi scrivete:
<pre>
fdisk -l
cat /etc/fstab
</pre>
							Questo per ottenere i nomi corretti.
							</li>
							<li>Individuata la partizione corretta, create il punto di mount:
<pre>
mkdir -p /media/[hdxx,sdxx,diskx]
</pre>
							</li>
							<li>Montatela:
<pre>
mount /dev/xdxx /media/xdxx
</pre>
							</li>

							<li>Infine riscrivete Grub nell'MBR del primo disco fisso (generico):
<pre>
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/xdxx /dev/sda
</pre>
							</li>
						</ol>
	      </div>
		<div class="divider" id="chroot">
		      <h3>Utilizzare chroot per ripristinare nell'MBR un Grub2 sovrascritto o corrotto</h3>

							<p>Per ripristinare Grub 2 se è stato sovrascritto o se si è corrotto nell'MBR, configurate un ambiente <span class="highlight-3">chroot</span>. <span class="highlight-3">Basterà avere una qualsiasi live.iso dato che attraverso chroot si riesce ad arrivare al sistema installato nel disco rigido e si può quindi ripristinare la versione di grub appropriata, Grub 1 (Grub-legacy) oppure Grub 2.</span></p>

							<p>Avviate una live siduction.iso appropriata per il sistema (su CD, DVD, chiavetta USB o scheda SSD, 32 o 64 bit) e aprite la console. Scrivete <span class="highlight-3">sux</span> e premete Invio per ottenere i permessi di root.</p>

							<p>Utilizzando <span class="highlight-3">fdisk -l o blkid</span>, verificate quale è la partizione di avvio e annotatene il nome corretto. Se preferite una interfaccia grafica utilizzate <span class="highlight-3">Gparted</span>:</p>
<pre>
blkid
</pre>
							<p>e controllate che in fstab corrisponda il risultato del comando blkid:</p>
<pre>
cat /etc/fstab
</pre>
							<p>Supponiamo che il filesystem di root sia su <span class="highlight-3">/dev/sda2</span></p>
<pre>
mkdir /mnt/siduction-chroot
mount /dev/sda2 /mnt/siduction-chroot
</pre>

							<p>Quindi dovrete montare /proc, /run, /sys e /dev come segue:</p>
<pre>
mount --bind /proc /mnt/siduction-chroot/proc
mount --bind /run /mnt/siduction-chroot/run
mount --bind /sys /mnt/siduction-chroot/sys
mount --bind /dev /mnt/siduction-chroot/dev
mount --bind /dev/pts /mnt/siduction-chroot/dev/pts
</pre>
							<p>Se avviate usando una partizione di sistema EFI dovrete montare anche questa. Supponendo che sia /dev/sda1:</p>
<pre>
mount /dev/sda1 /mnt/siduction-chroot/boot/efi
</pre>

							<p>Adesso che l'ambiente chroot è configurato, accedetevi con:</p>
<pre>
chroot /mnt/siduction-chroot /bin/bash
</pre>

							<p>Ora siete in grado di utilizzare la cache locale di apt o di modificare i file da aggiustare proprio come se aveste propriamente avviato il sistema operativo, in questo caso per risistemare Grub nell'MBR.</p>

							<p><span class="highlight-3">Per ripristinare Grub 2</span></p>
<pre>
apt-get install --reinstall grub-pc
</pre>
							<p>Per assicurarvi che Grub sia installato nel disco o nella partizione corretta, eseguite:</p>
<pre>
dpkg-reconfigure grub-pc
</pre>
							<p><span class="highlight-3">Per ripristinare Grub 2 EFI</span></p>
<pre>
apt-get install reinstall grub-efi-amd64
</pre>
							<p><span class="highlight-3">Per ripristinare Grub 1 (Grub-legacy)</span></p>
<pre>
apt-get install --reinstall grub-legacy
</pre>
							<p>Seguite quindi le istruzioni del programma di installazione.</p>

							<p>Per uscire dall'ambiente chroot:</p>
<pre>
Ctrl+d
</pre>
							<p>Riavviate il PC.</p>





	</div>
	<div id="rev">Page last revised 24/04/2012 1944 UTC</div>

</div>
</div>
</body>
</html>
