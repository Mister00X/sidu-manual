<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ro" lang="ro">
<head>
	<title>Manualul siduction - Utilizare APT</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body class="body-main">
<div>
<div id="main-page">
	<div class="divider" id="apt-cook">
		<h2 id="top-header">Mic ghid de utilizare <i>APT</i></h2>

		<h3>Ce înseamnă <i>APT</i>?</h3>
 							<p><i>APT</i> este prescurtarea de la <b>A</b>dvanced <b>P</b>ackaging <b>T</b>ool şi este o colecţie de programe şi scripturi care ajută atât administratorul de sistem  (în cazul dumneavoastră <i>root</i>) la instalarea şi managementul de fişiere <i>deb</i> cât şi ca sistemul să ştie ce are instalat.</p>

	</div>
	<div class="divider" id="sources-list">
			<h2>Lista Surselor</h2>
							<p>Sistemul <i>"APT"</i> are nevoie de un fisier <i>"config"</i> care conține informații despre locațiile pachetelor ce pot fi instalate și actualizate și care se numește în mod obișnuit <span class="highlight-3">sources.list</span>.</p>

							<p> Fișierele <i>sourses.list</i> sunt în directorul numit: <br />
							<span class="highlight-3">/etc/apt/sources.list.d/</span></p>

							 <p>În dosar sunt două fișiere numite:<br />
							<span class="highlight-3">/etc/apt/sources.list.d/debian.list</span> și<br />
							<span class="highlight-3">/etc/apt/sources.list.d/siduction.list  </span></p>

							<p>Acesta are beneficiul unei schimbări de oglindire priorică (automată), ceea ce face posibilă o înlocuire a listelor, mult mai sigură.</p>

							<p>Puteți de asemeni să adăugați fișiere <span class="highlight-3">/etc/apt/sources.list.d/*.list </span>personale.</p>

 				<h3>Toate imaginile siduction ISO deja folosesc următorea sursă implicit:</h3>

<pre>
#siduction
# Free University Berlin/ spline (Student Project LInux NEtwork), Germany
deb ftp://ftp.spline.de/pub/siduction/debian/ sid main fix.main
#deb-src ftp://ftp.spline.de/pub/siduction/debian/ sid main fix.main
</pre>

							<p>Viitoare intrări  pentru driverele <i>non-free</i> pot fi găsite aici: <a href="http://siduction.org/files/misc/sources.list.d/siduction.list">siduction.list</a> și <a href="http://siduction.org/files/misc/sources.list.d/debian.list">debian.list</a>:</p>
<pre>
#Debian
# Unstable
deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ unstable main contrib non-free

# Testing
#deb http://ftp.us.debian.org/debian/ testing main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ testing main contrib non-free

# Experimental
#deb http://ftp.us.debian.org/debian/ experimental main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ experimental main contrib non-free
</pre>

							<p>NOTĂ: În acest exemplu <i>ftp.us</i> indică folosirea repositoriului german.<br /> Se poate edita acest fişier, ca <i>root</i>, să folosească repositoriul cel mai apropiat de dumneavoastră schimbând ţara, ex.schimbaţi <i>ftp.us</i> în <i>ftp.ro</i> sau <i>ftp.uk</i>. Majoritatea ţărilor au servere locale.<br /> În felul acesta lăţimea de bandă este conservată și viteza îmbunătăţită.</p>

							<p><a href="http://www.debian.org/mirrors/">Statutul curent al Listelor cu Serverele Debian</a>.</p>

							<p>Pentru a obţine informaţii proaspete despre pachete, <i>APT</i> folosește o bază de date. Această bază de date conţine atât pachetele principale dar şi alte pachete necesare acestora să funcţioneze corect (numite dependenţe). Programul <i>apt-get</i> foloseşte această bază de date când instalează pachetele alese de dumneavoastră şi pentru a rezolva toate dependenţele şi prin aceasta se garantează că pachetele instalate vor lucra.<br /> Împrospătarea acestei baze de date se face cu comanda  <i>apt-get update</i>.</p>

<pre># apt-get update
	(care va aduce )
Get:1 http://siduction.org sid Release.gpg [189B]
Get:2 http://siduction.org sid Release.gpg [189B]
Get:3 http://siduction.org sid Release.gpg [189B]
Get:4 http://ftp.de.debian.org unstable Release.gpg [189B]
Get:5 http://siduction.org sid Release [34.1kB]
Get:6 http://ftp.de.debian.org unstable Release [79.6kB]
</pre>


	</div>

	<div class="divider" id="apt-install">
 		<h2>Instalarea unui nou pachet </h2>
							<p>Presupunând că baza de date <i>APT</i> este actualizată şi numele pachetului de instalat cunoscut, atunci comanda următoare va instala un pachet numit ca în exemplu împreună cu toate dependenţele sale: (mai departe vom vedea cum căutăm şi găsim pachete)</p>


<pre># apt-get install qemu
Reading package lists... Done
Building dependency tree... Done
The following extra packages will be installed:
  bochsbios openhackware proll vgabios
Recommended packages:
  debootstrap vde
The following NEW packages will be installed:
  bochsbios openhackware proll qemu vgabios
0 upgraded, 5 newly installed, 0 to remove and 20 not upgraded.
Need to get 4152kB of archives.
After unpacking 11.9MB of additional disk space will be used.
Do you want to continue [Y/n]? n

</pre>


	<div class="divider" id="apt-delete">
		<h2>Ştergerea unui pachet</h2>
							<p>Similar următoarea comandă va desinstala un pachet dar nu va desinstala și dependențele: </p>

<pre>
apt-get remove gaim
</pre>
<pre>
Reading package lists... Done
Building dependency tree... Done
The following packages will be REMOVED:
  gaim gaim-irchelper
0 upgraded, 0 newly installed, 2 to remove and 310 not upgraded.
Need to get 0B of archives.
After unpacking 4743kB disk space will be freed.
Do you want to continue [Y/n]?
(Reading database ... 174409 files and directories currently installed.)
Removing gaim-irchelper ...
Removing gaim ...
</pre>

			<p>În acest ultim caz fişierul de configurare al pachetului <i>'gaim'</i> (practic modul cum este setat) nu a fost şters din sistem. Îl puteţi folosi când instalaţi acelaşi pachet din nou şi va functiona cu aceste setări.</p>
			<p>Dacă doriţi ca şi fişierul de configurare să fie şters lansaţi comanda:</p>

<pre>
apt-get --purge remove gaim
</pre>
<pre>
Reading package lists... Done
Building dependency tree... Done
The following packages will be REMOVED:
  gaim*
0 upgraded, 0 newly installed, 1 to remove and 309 not upgraded.
Need to get 0B of archives.
After unpacking 4678kB disk space will be freed.
Do you want to continue [Y/n]? Y
(Reading database ... 174405 files and directories currently installed.)
Removing gaim ...
Purging configuration files for gaim ...
</pre>

							<p>Remarcați semnul <span class="highlight-3">*</span> după numele pachetului în output-ul lui <i>apt</i>.<br /> Asteriscul din output-ul lui <i>apt</i> indică faptul că și fișierele de configurare vor fi de asemenea șterse.</p>



		</div>
	<div class="divider" id="apt-downgrade">
						<h2>Menținerea (<i>Hold</i>)/Întoarcerea la o versiune anterioară a unui pachet</h2>
								<p>Uneori e posibil să trebuiască să vă întoarceți la o versiune anterioară a unui pachet din cauza unor probleme apărute după instalarea ultimei versiuni a acestuia sau să păstrați în sistem actuala versiune.</p>

					<h3><i>Hold</i></h3>
<pre>
echo package hold|dpkg --set-selections
</pre>
							<p>Să înlocuiești un pachet pus anterior în <i>Hold</i></p>
<pre>
echo package install|dpkg --set-selections
</pre>
							<p>Să listezi pachete rezervate (marcate ca <i>hold</i>):</p>

<pre>
dpkg --get-selections | grep hold
</pre>

					<h3>Întoarcerea la o versiune anterioară a unui pachet</h3>
							<p> <span class="highlight-2">Debian nu susține întoarcerea la o versiune anterioară (downgrading) a pachetelor. În timp ce această operațiune poate funcționa în unele cazuri simple, poate eșua spectaculos în altele. Vă rog să citiți la </span><a href="http://www.debian.org/doc/manuals/reference/ch02.en.html#_emergency_downgrading"> Emergency downgrading</a>.</p>

							<p>În ciuda acestui fapt, revenirea la o versiune anterioară (downgrading) poate funcționa pentru pachete simple. Vom folosi ca exemplu pachetul <span class="highlight-3">kmahjongg</span> pentru a vă arăta pașii de urmat:</p>

						<ol>
							<li>comentați sursele unstable în <span class="highlight-3">/etc/apt/sources.list.d/debian.list </span> cu un <span class="highlight-3">#</span></li>

							<li>Adăugați sursele testing în <span class="highlight-3">/etc/apt/sources.list.d/debian.list </span>, de exemplu:<br />
<pre>
deb http://ftp.nl.debian.org/debian/ testing main contrib non-free
</pre>
							</li>

							<li>
<pre>
apt-get update
</pre>
							</li>

							<li>
<pre>
apt-get install kmahjongg/testing
</pre>
							</li>

							<li>Puneți pachetul nou instalat în așteptare (hold) cu:<br />
<pre>
echo kmahjongg hold|dpkg --set-selections
</pre>
							</li>

							<li>comentați cu &lt;#&gt;sursele testing în /etc/apt/sources.list.d/debian.list și decomentați sursele unstable pentru a reveni la utilizarea surselor unstable, apoi:</li>

							<li>
<pre>
apt-get update
</pre>
							</li>
						</ol>

							<p>Când vreți să luați ultima versiune a pachetului faceți următoarele:</p>
<pre>
echo kmahjongg install|dpkg --set-selections
apt-get update
apt-get install kmahjongg
</pre>

		</div>
	

	<div class="divider" id="apt-upgrade">
		<h2>Actualizarea unui Sistem Instalat - <i>dist-upgrade</i> - Sumar</h2>

							<p>Dacă întregul sistem trebuie să fie actualizat, această actiune este obținută prin <span class="highlight-3">dist-upgrade</span>.<br /> Verifică întotdeauna anunțurile de alertă curente pe site-ul <a href="http://siduction.org">siduction</a> și alertele pentru pachetele pe care sistemul vrea să le șteargă (remove) prin <i>dist-upgrade</i>.<br /> Dacă ai nevoie să <span class="highlight-3">reții (hold)</span> un pachet, referă-te la  <a href="sys-admin-apt-ro.htm#apt-downgrade">Menținerea (<i>Hold</i>)/Întoarcerea la o versiune anterioară a unui pachet</a></p>

							<p>Un <i>upgrade</i> numai de <i>'debian sid'</i> nu este recomandat.</p>

					<h5>Frecventa de <i>dist-upgrade</i></h5>

							<p>Efectuați <i>dist-upgrade</i> cât mai des posibil, ideal ar fi 1 dată pe săptămână sau 1 dată la două săptămâni, cel puțin o dată pe lună ca să fiți în siguranță. Un <i>dist-upgrade</i> inițiat doar o dată la 2 sau 3 luni trebuie considarat ca ultima limită de siguranță.<br /> Pentru pachete  non-standard sau pachete autocompilate, trebuie să fiți mult mai atenți cu upgrading-ul, deoarece aceasta poate să-ți strice sistemul în orice moment datorită incompatibilităților.</p>

			<p>După ce baza de date a fost actualizată, se poate afla care pachete au versiuni noi sau mai noi: (instalați mai întâi <i>apt-show-versions</i>)</p>

<pre>
apt-show-versions -u
libpam-runtime/unstable upgradeable from 0.79-1 to 0.79-3
passwd/unstable upgradeable from 1:4.0.12-5 to 1:4.0.12-6
teclasat/unstable upgradeable from 0.7m02-1 to 0.7n01-1
libpam-modules/unstable upgradeable from 0.79-1 to 0.79-3.........
</pre>

			<p>Update-ul unui singur pachet, inclusiv dependenţele sale poate fi făcut (de exemplu la <i>gcc-4.0</i>) cu:</p>



<pre>
# apt-get install gcc-4.0
apt-get install gcc-4.0
Reading package lists... Done
Building dependency tree... Done
gcc-4.0 is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and xxx not upgraded
</pre>

					<h4>Doar download-are</h4>

							<p class="highlight-3">O optiune putin cunoscută dar fantastică, de a verifica ce pachete sunt în <i>dist-upgrade</i> este <i>-d</i>:</p>

<pre>
apt-get update &amp;&amp; apt-get dist-upgrade -d
</pre>
							<p>Opțiunea '<i>-d</i>' vă permite să  descărcați pachetele cu <i>dist-upgrade</i> fără să le instalați, în timp ce sunteți în mediul grafic <i>X</i> și vă permite să efectuați <i>dist-upgrade</i>-ul în '<i>init 3</i>' mai târziu. De asemeni, aceasta vă dă șansa să verificați alertele împotriva listei, ceea ce vă oferă, cu înțelepciune, optiunea de a continua sau de a termina astfel.</p>

<pre>
apt-get dist-upgrade -d
Reading package lists... Done
Building dependency tree
Reading state information... Done
Calculating upgrade... Done
The following NEW packages will be installed:
  elinks-data
The following packages have been kept back:
  git-core git-gui git-svn gitk icedove libmpich1.0ldbl
The following packages will be upgraded:
  alsa-base bsdutils ceni configure-ndiswrapper debhelper
  discover1-data elinks file fuse-utils gnucash.........
35 upgraded, 1 newly installed, 0 to remove and 6 not upgraded.
Need to get 23.4MB of archives.
After this operation, 594kB of additional disk space will be used.
Do you want to continue [Y/n]?<span class="highlight-3">Y </span>
</pre>
							<p><span class="highlight-3">Y </span> veți descărca pachetele îmbunătățite fără a va atinge de sistemul instalat.</p>

							<p>După ce '<i>dist-upgrade -d</i>' a făcut descărcarea şi doriţi să finalizaţi procesul de <i>dist-upgrade</i>, imediat sau altă dată, vă rugăm urmaţi instrucţiunile:</p>
	      </div>
	      <div class="divider" id="du-st">
				      <h3> <i>dist-upgrade</i> - Pașii de urmat</h3>

<div class="box block">
			<div class="highlight-2">ABSOLUT NICIODATĂ să nu faceţi dist-upgrade şi nici măcar upgrade în timp ce lucraţi în X<div class="highlight-4"> Întotdeauna verificaţi <i>Current Warnings</i> de pe pagina principală <a href="http://siduction.org">siduction</a>.<br /> Aceste avertismente există acolo cu un motiv bine întemeiat şi din cauza naturii <i>unstable</i> şi a <i>update</i>-ului zilnic.</div>
<pre>
Log out of KDE.
Go to Textmode by doing Ctrl+Alt+F1
logon as root, and then in type init 3
apt-get update
apt-get dist-upgrade
apt-get clean
init 5 &amp;&amp; exit

</pre>
			<div class="highlight-2">NICIODATĂ NU FACEŢI <i>DIST-UPGRADE</i> [sau <i>UPGRADE</i>] cu <i>adept</i>, <i>synaptic</i> sau <i>aptitude</i>.</div>

	</div>
	</div>
<div class="spacer02"></div>

			<p class="highlight-2">Dacă nu intraţi în <i>init 3</i>, ei bine, greu de voi ... aţi fost avertizaţi !</p>
	</div>
	<div class="divider" id="whyno">

				<h4>Motivele pentru care NU TREBUIE să folosiţi altceva în afară de <i>apt-get</i> pentru <i>dist-upgrade</i></h4>

							<p>Managere de pachete ca <i>adept</i>, <i>aptitude</i>, <i>synaptic</i> şi <i>kpackage</i>  nu sunt capabile întotdeauna să contorizeze enorm de multele schimbări care se întâmplă în Sid (schimbări de dependenţe, de nume, schimbări de scripturi de întreţinere, ...). </p>

							<p>Nu este vina dezvoltatorilor şi nici a programelor pe care aceştia le fac, totuşi ei fac unelte excelente pentru ramura <i>debian stable</i>, acestea pur şi simplu nu se potrivesc perfect cu nevoile speciale din <i>Debian Sid</i>.</p>

							<p>Utilizaţi orice doriţi pentru a căuta pachete dar rămâneţi fermi în a folosi doar <i>apt-get</i> pentru procesele de instalare/ştergere/dist-upgrade</p>

							<p>Managere de Pachete ca <i>adept</i>, <i>aptitude</i>, <i>synaptic</i> şi <i>kpackage</i> sunt, până la urmă, incerte (pentru selecţie complexă de pachete), adăugaţi la aceasta o ţintă mereu în mişcare precum <i>sid</i> şi poate un şi mai rău repozitoriu extern de o calitate îndoielnică (noi nu recomandăm acestea dar ele sunt o realitate printre utilizatori) şi veţi fi conduși la dezastru.</p>

							<p>Un alt lucru care trebuie ţinut minte este că toate aceste tipuri de managere de pachete cu GUI trebuiesc rulate în X, iar dacă faceţi un <i>dist-upgrade</i> în X, (nici măcar un '<i>upgrade</i>' nu este recomandat), veţi sfârşi prin a aduce daune ireparabile sistemului dumneavoastră, nu neaparat azi sau mâine, dar în timp sigur.</p>

							<p><i>apt-get</i>, pe de altă parte, face exact ce i se cere să facă, dacă există vreo scăpare pe care aţi identificat-o  şi încercaţi să o depanaţi/reparaţi şi <i>apt-get</i> vrea să îndepărteze jumătate din sistem (ca urmare a tranziţiilor librăriilor) este decizia administratorului (adică a dumneavoastră), măcar să analizaţi cu atenţie.</p>

							<p>Acesta este motivul pentru care debian foloseşte <i>apt-get</i> şi nu alte managere de pachete.</p>

	</div>
	<div class="divider" id="apt-cache">
			<h2>Căutarea unui pachet cu <i>apt-cache</i></h2>


			<p>O altă comandă foarte utilă în <i>APT-system</i> este  <i>apt-cache</i>; aceasta caută în <i>APT-Database</i> şi arată informaţiile despre pachete; de ex. o listă a tuturor pachetelor care conţin termenii "siduction" şi "manual" se obţine prin:</p>

<pre>$ apt-cache search siduction manual
.......
siduction-manual-common - the official siduction manual - common files
siduction-manual-es - the official Spanish siduction manual
siduction-manual-de - the official German siduction manual
siduction-manual-el - the official Greek siduction manual
siduction-manual - the official siduction manual - all languages
siduction-manual-pt-br - the official Brazilian Portuguese siduction manual
siduction-manual-en - the official English siduction manual
siduction-manual-reader - siduction manual reader
</pre>

		<p>Dacă doriţi informaţii mai în amănunt despre un anumit pachet puteţi folosi:</p>

<pre>$ apt-cache show siduction-manual-en
Package: siduction-manual-en
Priority: optional
Section: doc
Installed-Size: 1088
Maintainer: Kel Modderman &lt;kel@otaku42.de&gt;
Architecture: all
Source: siduction-manual
Version: 01.12.2007.06.03-1
Depends: siduction-manual-common
Filename: pool/main/s/siduction-manual/siduction-manual-en_01.12.2007.06.03-1_all.deb
Size: 391222
MD5sum: 60f2175c3c5709745a4b4256ccc3c49d
SHA1: e275a0b27628b6aa210a4ced48d3646b438e78b8
SHA256: 2792580c7a091521301064180a1d0d8901f0a4af407b90432b9f8d8b6b3603ca
Description: the official en siduction manual
 This manual is divided into common sections, for example, .......
</pre>

		<p>Toate versiunile instalabile ale unui pachet (depind şi de <i>sources.list</i>) pot fi listate tipărind:</p>

<pre>$ apt-cache policy siduction-manual-en
siduction-manual-en:
  Installed: (none)
  Candidate:01.12.2007.06.03-1
  Version table:
     01.12.2007.06.03-1 0
        500 http://siduction.org sid/main Packages</pre>

<div class="divider" id="gui-pacsea">
			<h2>Aplicaţia GUI Debian Package Search</h2>

<pre>
apt-get update
apt-get install packagesearch
</pre>

							<p>Când aţi pornit pentru prima oară programul Debian Package Search trebuie să configuraţi în meniul Packagesearch>Preferences să folosească <span class="highlight-3">apt-get</span>.</p>

							<p><span class="highlight-2">Vă rugăm nu folosiţi PackageSearch pentru a instala pachete, folosiţi-l numai ca un motor de căutare. Actualizarea şi instalarea de noi pachete packages fără a opri  X poate produce probleme. Vă rugăm citiţi <a href="sys-admin-apt-en.htm#apt-install">Instalarea unui pachet nou</a>.</span></p>

							<p>La prima rulare poate veţi fi rugaţi să instalaţi deborphan. Folosiţi-l cu mare atenţie.</p>

							<p>Criteriile de căutare pot fi după</p>
						<ul>

  							<li>şiruri de caractere</li>
  							<li>tag-uri (bazându-se pe sistemul debtags, noul sistem Debian de a introduce un pachet în o categorie)</li>
  							<li>fişiere</li>
  							<li>statusul instalării</li>
  							<li>pachete orfane</li>
						</ul>

 							<p>Informaţii adiţionale sunt arătate, inclusiv fişierele care aparţin pachetului respectiv. Vă rugăm citţi Help>Contents pentru a învăţa să folosiţi Debian Package Search GUI. În acest moment interfaţa grafică GUI este doar în limba engleză.</p>


	</div>

			<p><a href="http://www.debian.org/doc/manuals/apt-howto/">O descriere completă despre Sistemul APT poate fi găsită la  APT-HOWTO</a> </p>

			<div id="rev">Page last revised 30/11/2012 1330 UTC </div>


</div>
</div>
</body>
</html>
